- model_name = controller_name.singularize
- model_klass = model_name.camelcase.constantize
%div.borderBottomLeads
  .title_tools
    #buttons
      = view_buttons
    .create_asset#collapsePopUp
      = link_to_inline("create_#{model_name}".to_sym, send("new_#{model_name}_path"), {text: t("create_#{model_name}".to_sym), class: 'btn-sm btn btn-outline-primary'})
  %div
    %input.heightInputsCustom.newCustomButton{ placeholder: "Search Lead" }
-# .title
-#   %span{id: "create_#{model_name}_title"} #{t controller_name.to_sym}
-#   = image_tag("loading.gif", size: :thumb, id: "loading", style: "display: none;")
:javascript
  document.addEventListener('DOMContentLoaded', function() {
  console.log("DOM fully loaded and parsed");

  var openCreateLead = document.getElementById('collapsePopUp');
  var popupContainer = document.getElementById('popupContainer');

  if (openCreateLead && popupContainer) {
    openCreateLead.addEventListener('click', function(event) {
      event.preventDefault();
      popupContainer.classList.toggle('show');
      console.log("Toggled popup visibility");
    });
  } else {
    console.log("Elements not found");
  }
  });