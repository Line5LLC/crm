- model_name = controller_name.singularize
- model_klass = model_name.camelcase.constantize
%div.borderBottomLeads
  .title_tools
    #buttons
      = view_buttons
    .create_asset{ data: { target: "#popupContainer#{model_name.camelcase}" } }
      = link_to_inline("create_#{model_name}".to_sym, send("new_#{model_name}_path"), {text: t("create_#{model_name}".to_sym), class: 'btn-sm btn btn-outline-primary'})
  %div
    %input.heightInputsCustom.newCustomButton{ placeholder: "Search Lead" }
-# .title
-#   %span{id: "create_#{model_name}_title"} #{t controller_name.to_sym}
-#   = image_tag("loading.gif", size: :thumb, id: "loading", style: "display: none;")
:javascript
  document.addEventListener('DOMContentLoaded', function() {
   document.querySelectorAll('.create_asset').forEach(function(button) {
      button.addEventListener('click', function(event) {
        event.preventDefault();
        var targetPopupSelector = button.getAttribute('data-target');
        var targetPopup = document.querySelector(targetPopupSelector);

        if (targetPopup) {
          targetPopup.classList.toggle('show');
          console.log(`Toggled visibility for ${targetPopupSelector}`);
        } else {
          console.log("Target popup not found");
        }
      });
    });
  });